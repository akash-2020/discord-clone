(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[0],{76:function(e,c,n){},80:function(e,c,n){},81:function(e,c,n){},82:function(e,c,n){},85:function(e,c,n){},88:function(e,c,n){},89:function(e,c,n){},90:function(e,c,n){},91:function(e,c,n){"use strict";n.r(c);var a=n(2),s=n.n(a),t=n(24),i=n.n(t),r=(n(76),n(16)),l=(n(80),n(36)),o=(n(81),n(82),n(49)),d=n.n(o),j=n(54),h=n.n(j),u=n(55),b=n.n(u),m=n(56),O=n.n(m),x=n(58),p=n.n(x),f=n(57),v=n.n(f),_=n(3);var N=function(e){var c=e.channelName;return Object(_.jsxs)("div",{className:"chatHeader",children:[Object(_.jsx)("div",{className:"chatHeader__left",children:Object(_.jsxs)("h3",{children:[Object(_.jsx)("span",{className:"chatHeader__hash",children:"#"}),c]})}),Object(_.jsxs)("div",{className:"chatHeader__right",children:[Object(_.jsx)(d.a,{}),Object(_.jsx)(h.a,{}),Object(_.jsx)(b.a,{}),Object(_.jsxs)("div",{className:"chatHeader__search",children:[Object(_.jsx)("input",{placeholder:"Search"}),Object(_.jsx)(O.a,{})]}),Object(_.jsx)(v.a,{}),Object(_.jsx)(p.a,{})]})]})},g=n(59),I=n.n(g),S=n(60),C=n.n(S),y=n(61),k=n.n(y),w=n(62),B=n.n(w),H=n(107);n(85);var A=function(e){var c=e.timestamp,n=e.user,a=e.message;return Object(_.jsxs)("div",{className:"message",children:[Object(_.jsx)(H.a,{src:n.photo}),Object(_.jsxs)("div",{className:"message__info",children:[Object(_.jsxs)("h4",{children:[n.displayName,Object(_.jsx)("span",{className:"message__timestamp",children:new Date(null===c||void 0===c?void 0:c.toDate()).toUTCString()})]}),Object(_.jsx)("h4",{children:Object(_.jsx)("p",{children:a})})]})]})},E=n(27),z=Object(E.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,c){e.channelId=c.payload.channelId,e.channelName=c.payload.channelName}}}),D=z.actions.setChannelInfo,F=function(e){return e.app.channelId},L=function(e){return e.app.channelName},W=z.reducer,M=Object(E.b)({name:"user",initialState:{user:null},reducers:{login:function(e,c){e.user=c.payload},logout:function(e){e.user=null}}}),P=M.actions,T=P.login,U=P.logout,J=function(e){return e.user.user},K=M.reducer,V=n(29),Y=V.a.initializeApp({apiKey:"AIzaSyBmK1PBU79ulQACyBHXIust2Wk3YuTfL7Y",authDomain:"discord-clone-9f913.firebaseapp.com",projectId:"discord-clone-9f913",storageBucket:"discord-clone-9f913.appspot.com",messagingSenderId:"189078394785",appId:"1:189078394785:web:38df5a514df9c604d39de0"}).firestore(),q=V.a.auth(),G=new V.a.auth.GoogleAuthProvider,Q=Y;var R=function(){var e=Object(r.c)(J),c=Object(r.c)(F),n=Object(r.c)(L),s=Object(a.useState)(""),t=Object(l.a)(s,2),i=t[0],o=t[1],d=Object(a.useState)([]),j=Object(l.a)(d,2),h=j[0],u=j[1];return Object(a.useEffect)((function(){c&&Q.collection("channels").doc(c).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){return u(e.docs.map((function(e){return e.data()})))}))}),[c]),Object(_.jsxs)("div",{className:"chat",children:[Object(_.jsx)(N,{channelName:n}),Object(_.jsx)("div",{className:"chat__messages",children:h.map((function(e){return Object(_.jsx)(A,{timestamp:e.timestamp,message:e.message,user:e.user})}))}),Object(_.jsxs)("div",{className:"chat__input",children:[Object(_.jsx)(I.a,{fontSize:"large"}),Object(_.jsxs)("form",{name:"chatForm",children:[Object(_.jsx)("input",{name:"input",value:i,required:!0,disabled:!c,onChange:function(e){return o(e.target.value)},placeholder:"Message #".concat(n)}),Object(_.jsx)("button",{className:"chat__inputButton",type:"submit",onClick:function(n){if(""==document.forms.chatForm.input.value)return alert("No message to send!!"),!1;n.preventDefault(),Q.collection("channels").doc(c).collection("messages").add({timestamp:V.a.firestore.FieldValue.serverTimestamp(),message:i,user:e}),o("")},children:"Send Message"})]}),Object(_.jsxs)("div",{className:"chat__inputIcons",children:[Object(_.jsx)(C.a,{}),Object(_.jsx)(k.a,{}),Object(_.jsx)(B.a,{})]})]})]})},X=(n(88),n(44)),$=n.n(X),Z=n(63),ee=n.n(Z);n(89);var ce=function(e){var c=e.id,n=e.channelName,a=Object(r.b)();return Object(_.jsx)("div",{className:"sidebarChannel",onClick:function(){return a(D({channelId:c,channelName:n}))},children:Object(_.jsxs)("h4",{children:[Object(_.jsx)("span",{className:"sidebarChannel__hash",children:"#"}),n]})})},ne=n(64),ae=n.n(ne),se=n(65),te=n.n(se),ie=n(66),re=n.n(ie),le=n(67),oe=n.n(le),de=n(68),je=n.n(de),he=n(69),ue=n.n(he);var be=function(){var e=Object(r.c)(J),c=Object(a.useState)([]),n=Object(l.a)(c,2),s=n[0],t=n[1];return Object(a.useEffect)((function(){Q.collection("channels").onSnapshot((function(e){return t(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]),Object(_.jsxs)("div",{className:"sidebar",children:[Object(_.jsxs)("div",{className:"sidebar__top",children:[Object(_.jsx)("h3",{children:"akash's Server"}),Object(_.jsx)($.a,{})]}),Object(_.jsxs)("div",{className:"sidebar__channels",children:[Object(_.jsxs)("div",{className:"sidebar__channelsHeader",children:[Object(_.jsxs)("div",{className:"sidebar__header",children:[Object(_.jsx)($.a,{}),Object(_.jsx)("h4",{children:"Channel List"})]}),Object(_.jsx)(ee.a,{onClick:function(){var e=prompt("Enter a new chaneel name");e&&Q.collection("channels").add({channelName:e})},className:"sidebar__addChannel"})]}),Object(_.jsx)("div",{className:"sidebar__channelsList",children:s.map((function(e){var c=e.id,n=e.channel;return Object(_.jsx)(ce,{id:c,channelName:n.channelName},c)}))})]}),Object(_.jsxs)("div",{className:"sidebar__voice",children:[Object(_.jsx)(ae.a,{className:"sidebar__voiceIcon",fontSize:"large"}),Object(_.jsxs)("div",{className:"sidebar__voiceInfo",children:[Object(_.jsx)("h3",{children:"Voice Connected"}),Object(_.jsx)("p",{children:"Stream"})]}),Object(_.jsxs)("div",{className:"sidebar__voiceIcons",children:[Object(_.jsx)(te.a,{}),Object(_.jsx)(re.a,{})]})]}),Object(_.jsxs)("div",{className:"sidebar__profile",children:[Object(_.jsx)(H.a,{onClick:function(){return q.signOut()},src:e.photo,className:"avatar"}),Object(_.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(_.jsx)("h3",{children:e.displayName}),Object(_.jsxs)("p",{children:["#",e.uid.substring(0,5)]})]}),Object(_.jsxs)("div",{className:"sidebar__profileIcons",children:[Object(_.jsx)(oe.a,{}),Object(_.jsx)(je.a,{}),Object(_.jsx)(ue.a,{})]})]})]})},me=n(106);n(90);var Oe=function(){return Object(_.jsxs)("div",{className:"login",children:[Object(_.jsx)("div",{className:"login__logo",children:Object(_.jsx)("img",{src:"/resources/discord-logo-text.png",alt:"logo"})}),Object(_.jsx)(me.a,{onClick:function(){q.signInWithPopup(G).catch((function(e){return alert(e.message)}))},children:"Sign In"})]})};var xe=function(){var e=Object(r.b)(),c=Object(r.c)(J);return Object(a.useEffect)((function(){q.onAuthStateChanged((function(c){e(c?T({uid:c.uid,photo:c.photoURL,email:c.email,displayName:c.displayName}):U())}))}),[e]),Object(_.jsx)("div",{className:"app",children:c?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(be,{}),Object(_.jsx)(R,{})]}):Object(_.jsx)(Oe,{})})},pe=Object(E.a)({reducer:{user:K,app:W}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(_.jsx)(s.a.StrictMode,{children:Object(_.jsx)(r.a,{store:pe,children:Object(_.jsx)(xe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[91,1,2]]]);
//# sourceMappingURL=main.4f666391.chunk.js.map